<TargetEndpoint name="covid-19-test-result-target">
  <!-- <FaultRules>
    ToDo: This part will be filled by different ticket
  </FaultRules>
  <PreFlow>
  ToDo: This part will be filled by different ticket
  </PreFlow> -->
  <Flows>
    <Flow name="mapApigeeParametersIntoHeader">
      <Request>
        <Step>
          <Name>AssignMessage.AddAccessTokenIdHeader</Name>
        </Step>
        <Step>
          <Name>Javascript.AddClientRPDetailsHeader</Name>
        </Step>
<!--  //TODO does not work for neither apigee.client_id and client_id variable      -->
<!--        <Step>-->
<!--          <Name>AssignMessage.AddApigeeClientIdHeader</Name>-->
<!--        </Step>-->
<!--  //TODO does not work for neithet developer.id and developer.app.id      -->
<!--        <Step>-->
<!--          <Name>AssignMessage.AddDeveloperAppIdHeader</Name>-->
<!--        </Step>-->
        <Step>
          <Name>AssignMessage.AddDeveloperAppNameHeader</Name>
        </Step>
        <Step>
          <Name>AssignMessage.AddNhsdCorrelationIdHeader</Name>
        </Step>
        <Step>
          <Name>AssignMessage.AddProxyClientIpHeader</Name>
        </Step>
      </Request>
      <Response/>
    </Flow>
  </Flows>
  <HTTPTargetConnection>
    <SSLInfo>
      <Enabled>true</Enabled>
    </SSLInfo>
    <LoadBalancer>
      <Server name="covid19-test-results" />
    </LoadBalancer>
  </HTTPTargetConnection>
</TargetEndpoint>
